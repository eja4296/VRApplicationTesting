<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <title>VR Graph/Network Data Visualization Application Prototype</title>
    <style>
        #sigma-container{
            height: 750px;
            border: 1px solid black;
        }
    </style>
    <!-- import aFrame Library -->
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    
    <!-- Main Script -->
    <script>
        // Load init when page has loaded
        window.onload = init;
        
        // Starter function
        function init(){
            //loadData();
            //addEventListener()
            var i = 0;
          
            var myKeys = undefined;
            
            var sphere1 = document.querySelector("#sph1");
            var sphere2 = document.querySelector("#sph2");
            
            var xDistance = sphere2.getAttribute("position").x - sphere1.getAttribute("position").x;
            var yDistance = sphere2.getAttribute("position").y - sphere1.getAttribute("position").y;
            var zDistance = sphere2.getAttribute("position").z - sphere1.getAttribute("position").z;
            
            var totalDistance = Math.sqrt((xDistance * xDistance) + (yDistance * yDistance) + (zDistance * zDistance));
                    
            var zRot = Math.atan(yDistance / xDistance);
            var xRot = Math.atan(yDistance / zDistance);
            var yRot = Math.atan(zDistance / xDistance);
        
            
                    
            zRot *= (180 / Math.PI);
            yRot *= (180 / Math.PI);
            xRot *= (180 / Math.PI);
            
            console.log(xRot);
            console.log(yRot);
            console.log(zRot);
            
            var cylinder1 = document.querySelector("#cyl");
            
            
            cylinder1.setAttribute('height', totalDistance);
            cylinder1.setAttribute('rotation', '' + (xRot - 0) + ' ' + (yRot - 0) + ' ' + (zRot) + '');
            
            var halfwayX = (sphere1.getAttribute("position").x + sphere2.getAttribute("position").x) / 2;
            var halfwayY = (sphere1.getAttribute("position").y + sphere2.getAttribute("position").y) / 2;
            var halfwayZ = (sphere1.getAttribute("position").z + sphere2.getAttribute("position").z) / 2;
            
            //cylinder1.setAttribute('position', '' + halfwayX + ' ' + halfwayY + ' ' + halfwayZ + '');
           
           
            
            document.querySelector("body").addEventListener("keydown", function(e){
                     if(e.keyCode == 88){
                         xRot += 1;
                     }
                if(e.keyCode == 89){
                         yRot += 1;
                     }
                if(e.keyCode == 90){
                         zRot += 1;
                     }
                    cylinder1.setAttribute("rotation", '' + (xRot - 0) + ' ' + (yRot - 0) + ' ' + (zRot) + '');
            });
                
            
        }
        
       
        
    
    </script>
    
</head>

<body>
    
    <a-scene id="scene">
      <a-camera position = "0 0 10">
        <a-cursor></a-cursor>
      </a-camera>
        <a-cylinder id="cyl" position="0 0 0" radius="0.25" height="10" color="red"></a-cylinder>
        <a-sphere id="sph1" position="5 -3 7" radius="0.5" color="blue"></a-sphere>
        <a-sphere id="sph2" position="-2 8 -4" radius="0.5" color="blue"></a-sphere>
        <a-cylinder position="0 0 0" radius=".1" height="10" color="black" rotation="90 0 0"></a-cylinder>
        <a-cylinder position="0 0 0" radius="0.1" height="10" color="black" rotation="0 0 0"></a-cylinder>
        <a-cylinder position="0 0 0" radius=".1" height="10" color="black" rotation="0 0 90"></a-cylinder>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
    <script src="keys.js"></script>
</body>

</html>